# 개발 진행 기록

## 2025년 12월 10일

### [1-1] 프로젝트 구조 검토 완료
... (이전 내용 생략) ...

### [1-2] 전역 변수 및 플래그 선언 완료
... (이전 내용 생략) ...

### [1-3] 메인 루프 구조화 완료
... (이전 내용 생략) ...

### [2-1] 자동 잠금 로직 구현 완료
... (이전 내용 생략) ...

### [2-2] 진동 감지 알고리즘 구현 완료
... (이전 내용 생략) ...

### [2-3] 무게 감지 로직 구현 완료

`gemini.md`의 `[2-3]` 단계에 따라, `LOCKED` 상태에서 물품 탈취를 감지하는 무게 감지 로직을 구현했습니다.

*   **`user/main.c` 수정:**
    *   `WEIGHT_THRESHOLD` 상수를 `100.0f`로 정의하여, 100g 이상의 무게 감소를 감지할 임계값으로 설정했습니다.
    *   `LOCKED` 상태 내에서 `HX711_Read_Average`를 통해 현재 무게를 측정하고, `Base_Weight`와 비교하는 로직을 추가했습니다.
    *   `(Base_Weight - weight) > WEIGHT_THRESHOLD` 조건이 만족되면 `SystemState`를 즉시 `ALARM`으로 전환하도록 구현했습니다.

이로써 사물함이 잠긴 상태에서 물품 도난 시도를 무게 변화로 감지하여 경보를 발생시키는 기능이 추가되었습니다.